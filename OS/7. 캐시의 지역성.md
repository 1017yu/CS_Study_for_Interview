# OS

# 캐시란? 
-> 기능! 데이터나 정보를 임시로 저장하는 기능!<br/>
-> 속도가 빠른 기억 장치에 데이터를 저장해두고, 필요할 때 해당 데이터를 빠르게 접근하여 사용하는 것.<br/
-> 캐시는 컴퓨터 시스템 전반에서 사용되며, CPU 캐시, 웹 브라우저 캐시, 데이터베이스 캐시 등 다양한 형태로 존재.<br/
이러한 캐시는 데이터 접근 시간을 단축시켜 전체적인 성능을 향상시키는 데 기여한다.<br/

----

# 캐시 메모리란? 
-> 고속 임시 메모리!<br/>
-> 속도가 빠른 장치와 느린 장치간의 병목 현상을 줄여주며, 메인 메모리와 CPU사이에 위치한다.<br/>
->시간적, 공간적 지역성을 기반으로 가까운 미래에 접근될 확률이 높은 데이터를 작지만 빠른 캐시 메모리에 미리 보관하여 전체적인 시스템의 성능을 높인다.<br/>

### 지역성에 대한 이미지 설명

<img width="600" alt="image" src="https://github.com/JaeYeopHan/Interview_Question_for_Beginner/assets/101441685/20e5517a-b4a4-4404-b6a8-d44887896bdb">

1) 나는 매일 강의장에 올때마다 gs 편의점을간다. 하지만, 나는 매번 편의점을 가는것이 귀찮아서 1층에 있는 물품 보관소에 내가 좋아하는것들을 채우게 된다. 

<img width="600" alt="image" src="https://github.com/JaeYeopHan/Interview_Question_for_Beginner/assets/101441685/556ce57f-f9d5-4d0b-bace-95d184677e61">

2) 하지만 1층 물품보관소에 가는것도 귀찮기 때문에 탕비실을 하나 만들어 내가 자주 먹고 좋아하는것들로만 추려서 넣어놨다. <br>

3) 이 3가지의 장소를 비유 해보자면<br>
=> gs편의점은 = 하드디스크 이다. (모든게 다 들어있어 크고 , 시간이 오래걸린다. 하지만 이런 부분때문에 가격이 싸다는 장점도 있다.)<br>
=> 1층 물품보관소 = 메인메모리/램 이다 . (gs 편의점 보다 가는 시간은 훨씬 빠르고, 빠르지만 하드디스크 보다는 가격이 있다.)<br>
=> 탕비실 = 캐시 메모리 이다. (하드 디스크, 메인 메모리/램 보다 비교 할수 없을 정도로 빠르지만, 다른것들 보다는 훨신 가격이 있다.)<br>

## ⭐그렇다면 해당 캐시 메모리 에는 어떤것을 넣어야 할까? 어떤것을 넣어야 할지 규칙이 중요하다.
### 어떤 데이터를 넣어야할까? <br/>
-> 캐시가 효율적으로 동작하려면, 캐시에 저장할 데이터가 “지역성”을 갖어야 한다. <br/>

------

# 캐시의 지역성이란? <br/>
-> 지역성이란 데이터 접근이 시간적, 혹은 공간적으로 가깝게 일어나는 것을 의미한다. <br/>
## 1. Temporal Locality – 시간적 지역성 (최근에 접근된 데이터)<br/>
-> 한번 접근된 데이터가 미래에 또한번 데이터에 접근될 확률이 높다. 우선순위 (오늘 카톡한 사람과, 내일도 카톡할 확률 up) <br/>
-> 메모리 상의 같은 주소에 여러 차례 읽기 쓰기를 수행할 경우 상대적으로 작은 크기의 캐시를 사용해도 효율성을 꾀할 수 있다! <br.<

## 2. Spatial Locality – 공간적 지역성(최근에 접근되 데이터의 주변 데이터)<br/>
-> 한번 접근된 데이터가 미래에 접근될 확률이 더 높다. (a와 카톡하면, a가있는 단톡방에 사람들과도 카톡할 확률 up)
-> 특정 데이터와 가까운 주소가 순서대로 접근되었을 경우. <br/>
-> CPU 캐시나 디스크 캐시의 경우 한 메모리 주소에 접근할 때 그 주소뿐 아니라 해당 블록을 전부 캐시에 가져오게 된다.<br>

## 3. Sequential Locality – 순차 지역성
-> 데이터를 순차적으로 처리하는 경우 주로 나타난다. 예를 들어, 배열의 요소를 순서대로 접근하거나 파일의 데이터를 순차적으로 읽는 경우 순차 지역성이 발생 <br/>

------

# 메모리 계층 구조
<img width="600" alt="image" src="https://github.com/JaeYeopHan/Interview_Question_for_Beginner/assets/101441685/a6399a01-2d54-48b0-be81-fbcf34d31b45">

-> 저장장치가 빠를수록 용량이 작고 가격(cost)이 비싸고 느릴수록 용량이 크고 가격이 저렴. <br/> 
이그림은 메모리 계층구조의 예다.L0는 레지스터, L1~L3는 캐시 메모리(SRAM)로 CPU 안에 구성돼있다. <br> 

# 캐시라인 이란? <br/>
-> 캐시는 프로세서 가깝게 위치하며 자주 사용 되는 데이터들은 저장하는 것<br/>
-> 목적 데이터를 바로 접근하여 출력할 수 있어야 캐시가 의미가 있기때문에, 특정 자료구조를 사용하여 묶음으로 저장해놓는데, 이를 캐시라인이라 칭함 캐시 메모리의 “매핑 프로세스” 라고 말할 수 있음<br/>

## 캐시 라인의 3가지 매핑<br/>
### 1. 직접 매핑(Direct Mapping)<br/>
<img width="600" alt="image" src="https://github.com/JaeYeopHan/Interview_Question_for_Beginner/assets/101441685/37393a0c-978d-480d-886f-6b6cb8bf0afc">


-> 메모리 주소와 캐시의 순서를 일치 시켜 지정된 캐시 라인으로만 사상하는 방식이다.<br/>
-> 하지만 특정메모리 위치의 값을 자주 불러다 사용한다면 저장할 캐시 공간은 1개시 이므로 매번 캐시 교체가 일어남 즉 적중률과 성능이 낮지만 구현이 간단하고 쉬운 방법이다.<br/>

### 2. 연관매핑((Associative Mapping)<br/>
-> 순서를 일치시키지 않고 필요한 메모리 값을 캐시의 어디든 편하게 저장한다. <br/>
-> 찾는 과정은 복잡하고 느리지만 필요한 캐시 위주로 저장하기에 적중률은 높다. <br/>
-> 캐시는 일반메모리보다 속도가 빠르므로 캐시의 검색량보다 적중률을 신경쓰는게 바람직함. <br/>

### 3. 직접 연관 매핑( Set Associative Mapping)<br/>
-> 연관 매핑과 직접 매핑을 합쳐 놓은 방식.<br/>
-> 순서를 일치시키면서 일정 그룹을 두지만, 그 그룹내에서는 편하게 저장하는 방식이다.<br/>
-> 블록화가 되어있어 검색에 조금 더 효율적이며 적중률이 많이 떨어지지도 않는다.<br/>

# 총정리<br/>
-> 캐시란 = 데이터나 정보를 임시로 저장하는 기능<br/> 
-> 캐시메모리란 =  주기억장치에서 자주 사용하는 프로그램과 데이터를 저장해두고 속도를 빠르게 하는 메모리.<br/> 
캐시가 효율적으로 동작하려면 캐시에 들어갈 데이터가 “지역성” 을 띄어야 한다.<br/>
-> 이 지역성에는 3가지가 포함된다. 1. 시간 2. 공간 3. 순차<br/>
-> 또한, 캐시는 프로세서 가깝게 위치하며 자주 사용 되는 데이터들은 저장해야 하는데 목적데이터에 바로 접근하기 위해 , 특정 자료구조를 묶어서 저장하는데 이를 “캐싱 라인” 이라고 합니다.




