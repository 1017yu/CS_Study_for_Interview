# 프로세스 동기화
-> 여러 프로세스 또는 스레드가 동시에 공유 자원에 접근하거나 특정 작업을 수행할 때 발생할 수 있는 문제를 해결하기 위해 사용.<br/>
ex) 여러 개의 프로세스가 동시에 같은 파일에 쓰기 작업을 수행하면 데이터가 꼬일수 있다<br/>

# 왜?
-> 왜 꼬이는 걸까? <br/>
-> 만약 두개의 프로세스 A와 B가 동시에 같은 파일에 쓰는 작업중
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/6e765e28-17e7-4f89-a076-5ad24fa3c569)

# 데이터 일관성 문제 
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/72150ca4-4e11-4dd8-bb92-7f50b345e418)

------

# 하나의 객체를 두 개의 스레드가 접근할때 어떻게 될까?
-> 컴퓨터에는 멀티태스킹 방식이있음. 번갈아 가면서 실행(1가지 작업에서 왔다갔다 다중처리능력)

### ex) 불량귤을 골라내는 로직이 있다.
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/e7164d2c-693e-43bc-bf4d-a4d1b694bce5)

-> t1에서 함수를 실행하고, t2에서 함수를 실행했을때 t1의 불량귤은 5개, t2의 불량귤은 2개이다. 그럼 state 값이 7 이 되야 하는데 안될수 있다. <br/>
위의 로직에서 increment() { state++ } 는 -> cup가 읽을수 있도록 명령어 형태로 변환하면 위의 사진과 같이 변환 될수 있다. 

-----

# 🌟 cpu 로 변환된 로직에 대해 더 알아보자. 
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/277f943b-6723-4eb1-a249-f023bd680f75)

-> t1 의 로직이 실행되는 과정에서 "컨텍스트 스위칭" 이 일어나 t2의 로직이 실행되고, t2의 로직이 다 실행된후 남은 t1의 로직을 실행하게 된다.<br/>
-> t1 의 로직은 r1이라는 레지스터레 1이 저장된후 최종 state 값에 반영되지 않고 컨텍스트 스위칭이 일어났기 때문에, 최존 state 값이 2가 아닌 1이 되는것이다.<br/>

### 📍 따라, T1의 작업이 반영되지 않은 메모리 상태에서 T2가 작업을 하니까 이상현상 발생 컨텍스트 스위칭 타이밍에 따라 결과 다름.

-----

# 해결방법!
-> 대화를 해야함.  = “동기화”  = 프로세스 들이 동작을 맞추고, 정보를 공유하는것.
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/81c2dfb5-9d15-4950-b2a7-0d39502fdbbe)

----

# 동기화 문제를 해결하기 위한 방법
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/319d7711-7287-4e5d-83d5-8a8829c8ccc8)

----

# 대표적인 동기화 방법
-> 여러 스레드 또는 프로세스 간에 공유 자원에 대한 접근을 제어하고 조정하는 메커니즘
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/1b54cf5e-b4ad-463c-99ce-aa33fdf8eeb9)
![image](https://github.com/KDT1-FE/KDT5-M6/assets/101441685/7f69e150-e561-40f9-b1af-1bd03f13baeb)

----








